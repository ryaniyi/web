(window.webpackJsonp=window.webpackJsonp||[]).push([["Mine"],{4061:function(e,t,r){(e.exports=r("2350")(!1)).push([e.i,'.mine_wrap[data-v-ef970964]{background-color:#f8f2d8}.mine_wrap .mine_img[data-v-ef970964]{width:4.22rem;margin:.56rem auto .32rem}.mine_wrap .mine_select_img[data-v-ef970964]{width:5.76rem}.mine_wrap .mine_sub[data-v-ef970964]{width:5.73rem;font-size:.33rem;font-weight:400;color:#6a3906;text-align:center;margin-top:.44rem}.mine_wrap .mine_card_wrap[data-v-ef970964]{width:8.31rem;margin:.62rem auto;position:relative}.mine_wrap .mine_card_wrap .mine_card[data-v-ef970964]{box-sizing:border-box;width:100%;height:100%;margin:0;padding:.38rem 1.2rem .62rem;border-radius:.23rem;border:.05rem solid #f5eac7;background-color:#fffcf2;color:#6a3906;position:relative;z-index:5}.mine_wrap .mine_card_wrap .mine_card .card_img[data-v-ef970964]{width:1.39rem}.mine_wrap .mine_card_wrap .mine_card .card_txt1[data-v-ef970964]{color:#e24e3a;font-size:.37rem;font-weight:500;margin:.4rem auto}.mine_wrap .mine_card_wrap .mine_card .card_txt2[data-v-ef970964]{color:#6a3906;font-size:.37rem;font-weight:400}.mine_wrap .mine_card_wrap .mine_card .card_btn_wrap[data-v-ef970964]{width:100%;margin-top:.56rem}.mine_wrap .mine_card_wrap .mine_card .card_btn_wrap .card_btn[data-v-ef970964]{width:2.37rem;height:.86rem;line-height:.86rem}.mine_wrap .mine_card_wrap .card_tag[data-v-ef970964],.mine_wrap .mine_card_wrap .mine_card .card_btn_wrap .card_btn[data-v-ef970964]{border-radius:.12rem;text-align:center;color:#fff;font-size:.45rem;font-weight:500;background-color:#e24e3a}.mine_wrap .mine_card_wrap .card_tag[data-v-ef970964]{width:1.3rem;height:.65rem;line-height:.65rem;-webkit-transform:translate(40%,-50%);transform:translate(40%,-50%);position:absolute;top:0;right:0;z-index:6}.mine_wrap .mine_card_wrap[data-v-ef970964]:before{top:-.1rem;right:-.1rem}.mine_wrap .mine_card_wrap[data-v-ef970964]:after,.mine_wrap .mine_card_wrap[data-v-ef970964]:before{content:"";display:inline-block;width:2.46rem;height:1.78rem;border-radius:.32rem;background-color:#e24e3a;position:absolute;z-index:1}.mine_wrap .mine_card_wrap[data-v-ef970964]:after{bottom:-.1rem;left:-.1rem}.mine_wrap .join_mask[data-v-ef970964]{position:fixed;top:0;left:0;z-index:50;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:rgba(0,0,0,.3);overflow:scroll}.mine_wrap .join_dialog[data-v-ef970964]{width:7.31rem;margin:1rem auto;padding:.19rem .3rem 1.05rem;border-radius:.1rem;background-color:#fffcf2;cursor:default}.mine_wrap .jlog_body[data-v-ef970964]{padding:0 .3rem}.mine_wrap .jlog_header[data-v-ef970964]{text-align:right}.mine_wrap .join_input_wrap[data-v-ef970964]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;box-sizing:border-box;margin:.8rem auto .5rem;border-radius:.2rem;border:.01563rem solid #6a3906;padding:0 .19rem;background-color:#fcf7e5}.mine_wrap .join_input[data-v-ef970964]{-webkit-box-flex:1;-webkit-flex:1;flex:1;width:100%;color:#6a3906;font-size:.44rem;background-color:transparent;border:none}.mine_wrap .join_input[data-v-ef970964],.mine_wrap .pop_btn[data-v-ef970964]{text-align:center;font-weight:500;line-height:1.2rem}.mine_wrap .pop_btn[data-v-ef970964]{height:1.2rem;border-radius:.12rem;color:#fff;font-size:.45rem;background-color:#e24e3a}.mine_wrap input[data-v-ef970964]::-webkit-inner-spin-button,.mine_wrap input[data-v-ef970964]::-webkit-outer-spin-button{-webkit-appearance:none}.mine_wrap input[type=number][data-v-ef970964]{-moz-appearance:textfield}.mine_wrap input[data-v-ef970964]::-webkit-input-placeholder{color:#fad2a8}.mine_wrap input[data-v-ef970964]:-moz-placeholder,.mine_wrap input[data-v-ef970964]::-moz-placeholder{color:#eee}.mine_wrap input[data-v-ef970964]:-ms-input-placeholder{color:#eee}',""])},"4ae1":function(e,t,r){var i=r("4061");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),(0,r("499e").default)("95c89c00",i,!0,{sourceMap:!1,shadowMode:!1})},bbde:function(e,t,r){"use strict";var i=r("4ae1");r.n(i).a},fb2e:function(e,t,r){"use strict";r.r(t);var i=(r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("456d"),r("d25f"),r("ac6a"),r("96cf"),r("3b8d")),a=(r("c5f6"),r("bd86")),n=r("3a48"),o=r("1576"),s=r("2f62");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={name:"Mine",data:function(){return{home_img:n.q,mine_select_img:n.r,ampl_coin:n.a,band_coin:n.d,comp_coin:n.g,crv_coin:n.k,super_coin:n.s,sushi_coin:n.v,uma_coin:n.A,usdt_coin:n.D,yfi_coin:n.G,yfii_coin:n.J,ampl_page_coin:n.b,band_page_coin:n.e,comp_page_coin:n.h,crv_page_coin:n.l,super_page_coin:n.t,sushi_page_coin:n.w,uma_page_coin:n.B,usdt_page_coin:n.E,yfi_page_coin:n.H,yfii_page_coin:n.K,ampl_page_txt:n.c,band_page_txt:n.f,comp_page_txt:n.i,crv_page_txt:n.m,super_page_txt:n.u,sushi_page_txt:n.x,uma_page_txt:n.C,usdt_page_txt:n.F,yfi_page_txt:n.I,yfii_page_txt:n.L,loop1:"",mineList:[{id:1,symbol:"super",tradePair:"super/eth",rate:"0.00",mul:3,icon:n.s,logo:n.t,txt:n.u},{id:2,symbol:"super",tradePair:"sushi/eth",rate:"0.00",mul:1,icon:n.v,logo:n.w,txt:n.x},{id:3,symbol:"super",tradePair:"yfii/eth",rate:"0.00",mul:1,icon:n.J,logo:n.K,txt:n.K},{id:4,symbol:"super",tradePair:"yfi/eth",rate:"0.00",mul:1,icon:n.G,logo:n.H,txt:n.I},{id:5,symbol:"super",tradePair:"usdt/eth",rate:"0.00",mul:1,icon:n.D,logo:n.E,txt:n.F},{id:6,symbol:"super",tradePair:"eth/ampl",rate:"0.00",mul:1,icon:n.a,logo:n.b,txt:n.c},{id:7,symbol:"super",tradePair:"uma/eth",rate:"0.00",mul:1,icon:n.A,logo:n.B,txt:n.C},{id:8,symbol:"super",tradePair:"band/eth",rate:"0.00",mul:1,icon:n.d,logo:n.e,txt:n.f},{id:9,symbol:"super",tradePair:"comp/eth",rate:"0.00",mul:1,icon:n.g,logo:n.h,txt:n.i},{id:10,symbol:"super",tradePair:"crv/eth",rate:"0.00",mul:1,icon:n.k,logo:n.l,txt:n.m}],showCooking:!1,cookingInfo:{},amount:"",initLoop:"",marketMineList:[]}},mounted:function(){var e=this;this.marketInited&&(this.getList(),this.initLoop=setInterval((function(){e.getList()}),1e4))},watch:{marketInited:function(e){var t=this;e&&(this.getList(),this.initLoop=setInterval((function(){t.getList()}),1e4))}},beforeDestroy:function(){clearInterval(this.initLoop),clearTimeout(this.loop1)},computed:m({},Object(s.b)({marketInited:function(e){return e.app.marketInited},marketList:function(e){return e.app.marketList},marketLength:function(e){return e.app.marketLength}})),methods:{initPage:function(){},percentNum:function(e,t){return(100*Number(e)/Number(t)).toFixed(2)+"%"},handleTrade:function(){this.$toast(this.$t("sys.txt1"))},getList:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){var t,r,i,a,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.marketList,console.log(t),r=[],!(t.length>0)){e.next=13;break}i=regeneratorRuntime.mark((function e(i){var a,s,c,p,d,u,l,_,f,g,b,h,w,v,k,x,y,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t[i],!((s=n.mineList.filter((function(e){return e.symbol===a.symbol.toLowerCase()}))).length>0)){e.next=14;break}return c=a.decimals,p=a.end_block_number,d=a.is_eth,u=a.max_supply,l=a.mid,_=a.mined,f=a.reward_per_block,g=a.stake_total,b=a.start_block_number,h=a.stop,w=a.symbol,v=a._contract,e.next=6,Object(o.q)(l);case 6:if(k=e.sent,x=k.amount,y=k.block_num,C=1e8,0!=x){e.next=13;break}return e.next=12,Object(o.h)(v);case 12:C=e.sent;case 13:r.push(m(m({},s[0]),{},{decimals:c,end_block_number:p,is_eth:d,max_supply:u,mid:l,mined:_,reward_per_block:f,stake_total:g,start_block_number:b,stop:h,symbol:w,_contract:v,approved:C,amount:x,block_num:y}));case 14:case"end":return e.stop()}}),e)})),a=0;case 6:if(!(a<t.length)){e.next=11;break}return e.delegateYield(i(a),"t0",8);case 8:a++,e.next=6;break;case 11:console.log(r),this.marketMineList=r;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),listenApproving:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(t){var r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)(t._contract);case 2:(r=e.sent)>0?this.changeMarketMineList(t,"approved",r):this.loop1=setTimeout((function(){i.listenApproving(t)}),5e3);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),approveCoin:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1e8,e.next=3,Object(o.a)(t._contract,1e8);case 3:e.sent.success&&(this.changeMarketMineList(t,"approved","doing"),this.listenApproving(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),changeMarketMineList:function(e,t,r){for(var i=0;i<this.marketMineList.length;i++)if(this.marketMineList[i].mid==e.mid){var a={};a[t]=r,this.marketMineList[i]=m(m({},this.marketMineList[i]),a),this.marketMineList=this.marketMineList.slice();break}},stakeCoin:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.cookingInfo,e.next=3,Object(o.c)(t.mid,this.amount);case 3:e.sent.success&&(this.$toast("Commited!"),this.dismissCooking());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),dismissCooking:function(){this.cookingInfo={},this.showCooking=!1,this.amount=""},popCooking:function(e){this.amount="",this.cookingInfo=e,this.showCooking=!0},doCook:function(e){this.$router.push({path:"mine/info",query:e})}}},d=(r("bbde"),r("2877")),u=Object(d.a)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mine_wrap flexcsc"},[r("img",{staticClass:"mine_img",attrs:{src:e.home_img,alt:""}}),r("img",{staticClass:"mine_select_img",attrs:{src:e.mine_select_img,alt:""}}),r("p",{staticClass:"mine_sub"},[e._v(e._s(e.$t("menu.txt1")))]),e._l(e.marketMineList,(function(t){return r("div",{key:t.id,staticClass:"mine_card_wrap"},[r("div",{staticClass:"mine_card flexccc"},[r("img",{staticClass:"card_img",attrs:{src:t.icon,alt:"super"}}),r("p",{staticClass:"card_txt1"},[e._v(e._s(t.tradePair.toUpperCase()))]),r("p",{staticClass:"card_txt2"},[e._v(e._s(e.$t("menu.txt2"))+" "+e._s(e.percentNum(t.stake_total,t.max_supply)))]),r("div",{staticClass:"card_btn_wrap flexrbc"},[r("div",{staticClass:"card_btn",on:{click:function(r){return e.doCook(t)}}},[e._v(e._s(e.$t("menu.txt3")))]),r("div",{staticClass:"card_btn",on:{click:e.handleTrade}},[e._v(e._s(e.$t("menu.txt4")))])])]),t.mul>1?r("div",{staticClass:"card_tag"},[e._v(e._s(t.mul)+"X")]):e._e()])})),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showCooking,expression:"showCooking"}],staticClass:"join_mask",on:{click:e.dismissCooking}},[r("div",{staticClass:"join_dialog",on:{click:function(e){e.stopPropagation()}}},[r("p",[e._v(e._s(e.cookingInfo.tradePair))]),r("div",{staticClass:"join_input_wrap"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"join_input",attrs:{type:"number",placeholder:"请输入数量"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}})]),r("div",{staticClass:"pop_btn",on:{click:function(t){return e.stakeCoin()}}},[e._v("Cook")])])])],2)}),[],!1,null,"ef970964",null);t.default=u.exports}}]);