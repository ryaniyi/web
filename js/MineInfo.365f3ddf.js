(window.webpackJsonp=window.webpackJsonp||[]).push([["MineInfo"],{"28a5":function(t,e,a){"use strict";var r=a("aae3"),i=a("cb7c"),n=a("ebd6"),o=a("0390"),s=a("9def"),c=a("5f1b"),m=a("520a"),l=a("79e5"),d=Math.min,u=[].push,p="split",g="length",f="lastIndex",_=4294967295,h=!l((function(){RegExp(_,"y")}));a("214f")("split",2,(function(t,e,a,l){var b;return b="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[g]||2!="ab"[p](/(?:ab)*/)[g]||4!="."[p](/(.?)(.?)/)[g]||"."[p](/()()/)[g]>1||""[p](/.?/)[g]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return a.call(i,t,e);for(var n,o,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,p=void 0===e?_:e>>>0,h=new RegExp(t.source,l+"g");(n=m.call(h,i))&&!((o=h[f])>d&&(c.push(i.slice(d,n.index)),n[g]>1&&n.index<i[g]&&u.apply(c,n.slice(1)),s=n[0][g],d=o,c[g]>=p));)h[f]===n.index&&h[f]++;return d===i[g]?!s&&h.test("")||c.push(""):c.push(i.slice(d)),c[g]>p?c.slice(0,p):c}:"0"[p](void 0,0)[g]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,r){var i=t(this),n=null==a?void 0:a[e];return void 0!==n?n.call(a,i,r):b.call(String(i),a,r)},function(t,e){var r=l(b,t,this,e,b!==a);if(r.done)return r.value;var m=i(t),u=String(this),p=n(m,RegExp),g=m.unicode,f=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(h?"y":"g"),v=new p(h?m:"^(?:"+m.source+")",f),w=void 0===e?_:e>>>0;if(0===w)return[];if(0===u.length)return null===c(v,u)?[u]:[];for(var k=0,x=0,j=[];x<u.length;){v.lastIndex=h?x:0;var O,y=c(v,h?u:u.slice(x));if(null===y||(O=d(s(v.lastIndex+(h?0:x)),u.length))===k)x=o(u,x,g);else{if(j.push(u.slice(k,x)),j.length===w)return j;for(var C=1;C<=y.length-1;C++)if(j.push(y[C]),j.length===w)return j;x=k=O}}return j.push(u.slice(k)),j}]}))},"594e":function(t,e,a){"use strict";var r=a("d8ac");a.n(r).a},8280:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,'.mid_wrap[data-v-09a09299]{text-align:center}.mid_wrap .mid_title[data-v-09a09299]{color:#6a3906;font-size:.48rem;font-weight:500;text-align:center}.mid_wrap .mid_txt[data-v-09a09299]{color:#6a3906;font-size:.44rem}.mid_wrap .mid_sub[data-v-09a09299]{color:#917d67;font-size:.28rem;margin-top:.3rem}.mid_wrap .mid_btn_group[data-v-09a09299]{padding:0 .56rem;margin-top:.56rem}.mid_wrap .mid_btn_group .mid_btn[data-v-09a09299]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:.86rem;line-height:.86rem;border-radius:.12rem;text-align:center;color:#fff;font-size:.45rem;font-weight:500;background-color:#e24e3a}[data-v-09a09299] .el-dialog{border-radius:.56rem}.mine_wrap[data-v-09a09299]{background-color:#f8f2d8}.mine_wrap .mine_img[data-v-09a09299]{height:2.57rem;margin:.56rem auto 0}.mine_wrap .mine_select_img[data-v-09a09299]{width:7.47rem;margin-bottom:.67rem}.mine_wrap .sub_title[data-v-09a09299]{font-family:Microsoft YaHei}.mine_wrap .sub_title[data-v-09a09299],.mine_wrap .sub_title_en[data-v-09a09299]{color:#6a3906;font-size:.48rem;font-weight:700;text-align:center}.mine_wrap .sub_title_en[data-v-09a09299]{font-family:Arial}.mine_wrap .mine_sub[data-v-09a09299]{font-size:.56rem;font-weight:500;color:#e24e3a;text-align:center;margin:.44rem auto}.mine_wrap .mine_card_wrap[data-v-09a09299]{width:8.31rem;margin:.62rem auto;position:relative}.mine_wrap .mine_card_wrap .mine_card[data-v-09a09299]{box-sizing:border-box;width:100%;height:100%;margin:0;padding:.38rem .5rem .62rem;border-radius:.23rem;border:.05rem solid #f5eac7;background-color:#fffcf2;color:#6a3906;position:relative;z-index:5}.mine_wrap .mine_card_wrap .mine_card .card_img[data-v-09a09299]{width:1.39rem}.mine_wrap .mine_card_wrap .mine_card .card_txt1[data-v-09a09299]{color:#e24e3a;font-size:.56rem;font-weight:500;margin:.2rem auto .4rem}.mine_wrap .mine_card_wrap .mine_card .card_txt2[data-v-09a09299]{color:#6a3906;font-size:.41rem;font-weight:400}.mine_wrap .mine_card_wrap .mine_card .card_txt3[data-v-09a09299]{color:#6a3906;font-size:.41rem;font-weight:400;text-align:center}.mine_wrap .mine_card_wrap .mine_card .card_btn_wrap[data-v-09a09299]{width:100%;margin-top:.56rem}.mine_wrap .mine_card_wrap .mine_card .card_btn_wrap .card_btn[data-v-09a09299]{width:100%;height:.86rem;line-height:.86rem;border-radius:.12rem;text-align:center;color:#fff;font-size:.45rem;font-weight:500;background-color:#e24e3a}.mine_wrap .mine_card_wrap .mine_card .card_btn_wrap .card_btn.min[data-v-09a09299]{font-size:.3rem}.mine_wrap .mine_card_wrap .card_tag[data-v-09a09299]{width:1.3rem;height:.65rem;line-height:.65rem;border-radius:.12rem;background-color:#e24e3a;text-align:center;color:#fff;font-size:.45rem;font-weight:500;-webkit-transform:translate(40%,-50%);transform:translate(40%,-50%);position:absolute;top:0;right:0;z-index:6}.mine_wrap .tips[data-v-09a09299]{width:8.68rem;color:#6a3906;font-size:.36rem;text-align:center;padding:0 .65rem;margin:1rem auto .77rem}.mine_wrap .tips span[data-v-09a09299]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.mine_wrap .tips img[data-v-09a09299]{width:.47rem;margin-right:0}.mine_wrap .mine_card_wrap[data-v-09a09299]:before{top:-.1rem;right:-.1rem}.mine_wrap .mine_card_wrap[data-v-09a09299]:after,.mine_wrap .mine_card_wrap[data-v-09a09299]:before{content:"";display:inline-block;width:2.46rem;height:1.78rem;border-radius:.32rem;background-color:#e24e3a;position:absolute;z-index:1}.mine_wrap .mine_card_wrap[data-v-09a09299]:after{bottom:-.1rem;left:-.1rem}.mine_wrap .join_mask[data-v-09a09299]{position:fixed;top:0;left:0;z-index:50;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:rgba(0,0,0,.3);overflow:scroll}.mine_wrap .join_dialog[data-v-09a09299]{width:7.31rem;margin:1rem auto;padding:.19rem .3rem 1.05rem;border-radius:.1rem;background-color:#fffcf2;cursor:default}.mine_wrap .jlog_body[data-v-09a09299]{padding:0 .3rem}.mine_wrap .jlog_header[data-v-09a09299]{text-align:right}.mine_wrap .join_input_wrap[data-v-09a09299]{height:1rem;width:100%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;box-sizing:border-box;margin:.2rem auto 0;border-radius:.2rem;border:.01563rem solid #6a3906;padding:0 .19rem;background-color:#fcf7e5}.mine_wrap .join_input[data-v-09a09299]{-webkit-box-flex:1;-webkit-flex:1;flex:1;width:100%;height:1rem;color:#6a3906;font-size:.44rem;background-color:transparent;border:none}.mine_wrap .join_input[data-v-09a09299],.mine_wrap .page_btn[data-v-09a09299]{text-align:center;font-weight:500;line-height:1.2rem}.mine_wrap .page_btn[data-v-09a09299]{width:8.31rem;height:1.2rem;border-radius:.12rem;color:#fff;font-size:.45rem;background-color:#e24e3a;margin-top:.5rem}.mine_wrap input[data-v-09a09299]::-webkit-inner-spin-button,.mine_wrap input[data-v-09a09299]::-webkit-outer-spin-button{-webkit-appearance:none}.mine_wrap input[type=number][data-v-09a09299]{-moz-appearance:textfield}.mine_wrap input[data-v-09a09299]::-webkit-input-placeholder{color:#fad2a8}.mine_wrap input[data-v-09a09299]:-moz-placeholder,.mine_wrap input[data-v-09a09299]::-moz-placeholder{color:#eee}.mine_wrap input[data-v-09a09299]:-ms-input-placeholder{color:#eee}',""])},aae3:function(t,e,a){var r=a("d3f4"),i=a("2d95"),n=a("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==i(t))}},ba6d:function(t,e,a){"use strict";a.r(e);var r=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("d25f"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),i=(a("c5f6"),a("28a5"),a("bd86")),n=a("3a48"),o=a("1576"),s=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={name:"Mine",data:function(){return{tips_ico:n.D,home_img:n.t,mine_select_img:n.u,ampl_coin:n.a,band_coin:n.d,comp_coin:n.h,crv_coin:n.l,super_coin:n.w,sushi_coin:n.A,uma_coin:n.F,usdt_coin:n.K,yfi_coin:n.N,yfii_coin:n.Q,uni_coin:n.J,loop1:"",amount:"",initLoop:"",marketMineList:[],marketObj:{},loading:"",showDialog:!1,cutRate:"0%",dialogType:""}},mounted:function(){var t=this;this.marketObj=this.$route.query,console.log(this.marketInited),this.marketInited&&(this.getList(),this.initLoop=setInterval((function(){t.getList()}),1e4))},watch:{marketInited:function(t){var e=this;t&&(this.getList(),this.initLoop=setInterval((function(){e.getList()}),1e4))}},beforeDestroy:function(){clearInterval(this.initLoop),clearTimeout(this.loop1)},computed:m(m({},Object(s.b)({marketInited:function(t){return t.app.marketInited},marketList:function(t){return t.app.marketList},marketLength:function(t){return t.app.marketLength},lang:function(t){return t.app.lang}})),{},{titleTop:function(){var t="";return this.marketObj.tradePair&&(t=this.marketObj.tradePair.split("/")[0]),t.toUpperCase()},titleFooter:function(){var t="";return this.marketObj.tradePair&&(t=this.marketObj.tradePair.split("/")[1]),t.toUpperCase()}}),methods:{initPage:function(){},amountFormatter:function(t){var e="0.0000";return t>0&&(e=Object(o.f)(t)),e},percentNum:function(t,e){return(100*Number(t)/Number(e)).toFixed(2)+"%"},handleTrade:function(){this.$message("Coming soon...")},getList:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,a,r,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.marketObj,t.next=3,Object(o.q)(e.mid);case 3:if(a=t.sent,r=a.amount,i=a.block_num,console.log(r),n=1e8,0!=r){t.next=11;break}return t.next=10,Object(o.h)(e._contract);case 10:n=t.sent;case 11:console.log(n),"doing"===e.approved&&(n=e.approved),this.marketObj=m(m({},e),{},{approved:n,amount:r,block_num:i});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),listenApproving:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var a,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.h)(e._contract);case 2:(a=t.sent)>0?this.changeMarketObj("approved",a):this.loop1=setTimeout((function(){r.listenApproving(e)}),5e3);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),approveCoin:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=this.$loading(),1e8,t.next=4,Object(o.a)(e._contract,1e8);case 4:a=t.sent,this.loading.close(),a.success&&(this.changeMarketObj("approved","doing"),this.listenApproving(e));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),changeMarketObj:function(t,e){this.marketObj[t]=e},stakeCoin:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(this.marketObj),"true"!==this.marketObj.stop){t.next=4;break}return this.$message("Closed!"),t.abrupt("return");case 4:if(!(this.amount<=0)){t.next=7;break}return this.$message(this.$t("join.txt6")),t.abrupt("return");case 7:return this.loading=this.$loading(),e=this.marketObj,t.next=11,Object(o.c)(e.mid,this.amount);case 11:a=t.sent,this.loading.close(),a.success&&this.$message.success("Commited!");case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),claimCoin:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=this.$loading(),this.dialogType="",t.next=4,Object(o.b)(this.marketObj.mid);case 4:e=t.sent,console.log(e),this.loading.close(),e.success&&(this.$message.success("Commited!"),this.$router.back());case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),withdrawCoin:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,a,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=this.$loading(),this.dialogType="",e=this.marketObj,a=e.mid,r=e.amount,t.next=5,Object(o.e)(a,r);case 5:i=t.sent,this.loading.close(),console.log(i),i.success&&(this.$message.success("Commited!"),this.$router.back());case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),comingSoon:function(){this.$message.info(this.$t("sys.txt1"))},doDialog:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var a,r,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(this.marketObj),!(this.marketObj.amount<=0)){t.next=4;break}return this.$message("No Stake!"),t.abrupt("return");case 4:return a=this.marketObj.block_num,t.next=7,Object(o.n)();case 7:r=t.sent,5760,i=["100%","95%","90%","85%","80%","75%","70%","65%","60%","55%","50%","45%","40%","35%","0%"],(n=Math.floor((r-a)/5760))>14&&(n=14),this.cutRate=i[n],this.dialogType=e,this.showDialog=!0;case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),dialogBtn:function(){console.log(this.dialogType),"harvest"===this.dialogType?this.claimCoin():"unstake"===this.dialogType&&this.withdrawCoin(),this.showDialog=!1}}},d=(a("594e"),a("2877")),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mine_wrap flexcsc"},[a("img",{staticClass:"mine_img",attrs:{src:t.marketObj.logo,alt:""}}),a("p",{staticClass:"mine_sub"},[t._v(t._s(t.titleTop))]),"en"===t.lang?a("p",{staticClass:"sub_title_en"},[t._v("Deposit "+t._s(t.marketObj.symbol)+" "),a("br"),t._v("Earn SUPER")]):a("p",{staticClass:"sub_title"},[t._v("存入"+t._s(t.marketObj.symbol)+" "),a("br"),t._v("賺取 SUPER")]),a("div",{staticClass:"mine_card_wrap"},[t.marketObj.mid?a("div",{staticClass:"mine_card flexccc"},[a("img",{staticClass:"card_img",attrs:{src:t.marketObj.icon,alt:"super"}}),a("p",{staticClass:"card_txt1"},[t._v(t._s(t.amountFormatter(t.marketObj.amount)))]),(t.lang,a("p",{staticClass:"card_txt2"},[t._v(t._s(t.marketObj.symbol+" "+t.$t("info.txt1")))])),0==t.marketObj.amount?a("div",{staticClass:"join_input_wrap flexrcc"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"join_input",attrs:{type:"text",placeholder:t.$t("join.txt6")},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})]):t._e(),a("div",{staticClass:"card_btn_wrap flexrcc"},[t.marketObj.amount>0?a("div",{staticClass:"card_btn",on:{click:function(e){return t.doDialog("harvest")}}},[t._v(t._s(t.$t("info.txt2")))]):0==t.marketObj.approved?a("div",{staticClass:"card_btn",on:{click:function(e){return t.approveCoin(t.marketObj)}}},[t._v(t._s(t.$t("info.txt5")))]):"doing"==t.marketObj.approved?a("div",{staticClass:"card_btn"},[t._v(t._s(t.$t("join.txt11")))]):a("div",{staticClass:"card_btn",on:{click:t.stakeCoin}},[t._v(t._s(t.$t("menu.txt3")))])])]):t._e()]),t._e(),a("div",{staticClass:"page_btn",on:{click:function(e){return t.doDialog("unstake")}}},[t._v(t._s(t.$t("info.txt3")))]),a("p",{staticClass:"tips flexrbs"},[a("img",{attrs:{src:t.tips_ico}}),a("span",[t._v(t._s(t.$t("info.txt4")))])]),a("el-dialog",{staticClass:"mid_wrap",attrs:{title:"提示",visible:t.showDialog,width:"80%","show-close":!1},on:{"update:visible":function(e){t.showDialog=e}}},[a("p",{staticClass:"mid_title",attrs:{slot:"title"},slot:"title"}),a("p",{staticClass:"mid_txt"},[t._v(t._s(t.$t("sys.txt8")+t.cutRate))]),a("p",{staticClass:"mid_sub"},[t._v(t._s(t.$t("sys.txt9")))]),a("div",{staticClass:"mid_btn_group flexrbc"},[a("div",{staticClass:"mid_btn",staticStyle:{"margin-right":"0.2rem"},on:{click:function(e){t.showDialog=!1}}},[t._v(t._s(t.$t("sys.txt10")))]),a("div",{staticClass:"mid_btn",staticStyle:{"margin-left":"0.2rem"},on:{click:t.dialogBtn}},[t._v(t._s(t.$t("sys.txt11")))])])])],1)}),[],!1,null,"09a09299",null);e.default=u.exports},d8ac:function(t,e,a){var r=a("8280");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals),(0,a("499e").default)("09e9c72a",r,!0,{sourceMap:!1,shadowMode:!1})}}]);